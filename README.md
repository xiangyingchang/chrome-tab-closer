# chrome-tab-closer
深受 Chrome 标签的困扰，用Cursor 写了一个自动关闭不活跃标签的插件。

## 功能特性
- 自动关闭长时间不活跃的标签页
- 可配置不活跃时间阈值（默认24小时）
- 支持白名单域名（永不自动关闭）
- 测试模式（1分钟后关闭）
- 手动关闭标签页功能

## 使用方式
1. 打包下载chrome-tab-closer代码，保存在电脑上
2. 打开 chrome 浏览器
3. 输入chrome://extensions/
4. 点击左上角 加载已解压的扩展程序
5. 配置自动关闭的间隔时间
6. 添加需要保持打开的网站到白名单

## 配置说明
- 自动关闭：开启/关闭自动关闭功能
- 不活跃时间：设置多长时间未访问后关闭标签（小时）
- 测试模式：开启后1分钟未访问就关闭（用于测试）
- 白名单：添加不想自动关闭的网站域名

## 测试指南

### 基础功能测试
1. **安装测试**
   - 打开 chrome://extensions/
   - 开启开发者模式
   - 加载已解压的扩展程序
   - 确认插件图标显示正常

2. **界面测试**
   - 点击插件图标，确认弹出窗口正常显示
   - 检查所有按钮和输入框是否可以正常交互
   - 验证设置保存是否生效

3. **手动关闭功能测试**
   - 测试"关闭当前标签页"按钮
   - 测试"关闭其他标签页"按钮
   - 测试"关闭所有标签页"按钮

### 自动关闭功能测试

1. **测试模式**
   - 启用"自动关闭不活跃标签"
   - 开启"测试模式（1分钟）"
   - 打开几个测试用的标签页
   - 等待1分钟，确认不活跃的标签是否自动关闭
   - 检查是否收到关闭通知

2. **白名单测试**
   - 添加一个网站到白名单（如：github.com）
   - 打开该网站的标签页
   - 开启测试模式等待1分钟
   - 确认白名单中的网站标签没有被关闭

3. **时间阈值测试**
   - 关闭测试模式
   - 设置较短的不活跃时间（如：1小时）
   - 确认标签在设定时间后被关闭

### 错误处理测试

1. **输入验证**
   - 在白名单输入框中输入无效域名
   - 确认是否有适当的错误提示
   - 测试时间阈值输入的边界值

2. **异常恢复**
   - 在插件运行时刷新扩展
   - 确认设置和白名单是否正确保存
   - 验证定时任务是否正常恢复

### 性能测试

1. **多标签测试**
   - 打开大量标签（20+）
   - 检查插件性能是否正常
   - 验证批量关闭操作是否流畅

2. **长时间运行测试**
   - 让插件持续运行几个小时
   - 检查内存使用情况
   - 确认定时清理是否正常工作
