# Chrome标签关闭插件测试说明

## 安装步骤
1. 打开Chrome浏览器
2. 地址栏输入：`chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择插件文件夹

## 测试步骤

### 1. 基本功能测试
- 点击插件图标，确认弹窗正常显示
- 测试手动关闭功能：
  - 关闭当前标签页
  - 关闭其他标签页
  - 关闭所有标签页

### 2. 自动关闭功能测试
1. **启用自动关闭**：
   - 勾选"自动关闭不活跃标签"
   - 设置不活跃时间（建议先设为1小时测试）

2. **测试模式验证**：
   - 勾选"测试模式（1分钟）"
   - 打开几个新标签页
   - 切换到其中一个标签，等待1分钟
   - 其他标签应该被自动关闭

3. **白名单测试**：
   - 添加常用网站到白名单（如：google.com）
   - 打开该网站的标签页
   - 确认白名单网站不会被自动关闭

### 3. 调试功能
- 点击"检查设置状态"按钮
- 按F12打开开发者工具查看控制台输出
- 点击"立即检查不活跃标签"强制执行检查

## 常见问题排查

### 插件无法加载
- 检查manifest.json语法是否正确
- 确认所有文件都在同一文件夹内
- 查看Chrome扩展页面的错误信息

### 自动关闭不工作
1. 确认已勾选"自动关闭不活跃标签"
2. 检查设置的时间阈值是否合理
3. 使用测试模式进行快速验证
4. 查看浏览器控制台是否有错误信息

### 白名单不生效
- 确认域名格式正确（如：google.com，不要包含http://）
- 检查是否正确添加到白名单列表

## 版本更新内容
- 修复了Manifest V3兼容性问题
- 改进了异步函数处理
- 增强了错误处理和日志记录
- 优化了Service Worker生命周期管理
- 修复了图标引用问题